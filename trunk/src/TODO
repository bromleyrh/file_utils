TODO

- Modify replicate and verify to run in setuid mode, allowing or denying
  execution according to trusted configuration information
- Verify replicate and verify child process stack sizes sufficient
- Factor out common code shared between replicate and verify into a shared
  library, or create single executable with multiple modes of operation
- Exploit parallelism in replicate and verify using threads with suitable
  scheduling parameters
- Export replicate and verify progress information over DBus

replicate

- Determine if safe to set block device read-only immediately after mount
- Improve diagnostic output

verify

- Verify checksum for first min(file_size, 512) bytes of file as soon as this
  number of bytes is read
- Disable direct I/O if not supported
- Allow selection of different hash algorithms
